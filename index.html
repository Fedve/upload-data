<html>
    <head>
        <title>Laporan Makan Kucing Periode 2025</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"></link>
        <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    </head>
    <body class="bg-gray-100 font-roboto">
        <div class="container mx-auto p-4">
            <div class="text-center mb-8">
                <h1 class="text-3xl font-bold">Form Submit Laporan</h1>
            </div>
            <div class="bg-white p-6 rounded-lg shadow-md max-w-md mx-auto">
                <div class="mb-4">
                    <label for="text" class="block text-gray-700 font-bold mb-2">Text</label>
                    <input type="text" id="text" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                </div>
                <div class="mb-4">
                    <label for="imagetxt" class="block text-gray-700 font-bold mb-2">Image URL</label>
                    <input type="text" id="imagetxt" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                </div>
                <div class="mb-4">
                    <label for="imagetxt" class="block text-gray-700 font-bold mb-2">Date Upload</label>
                    <input type="text" id="datenow" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                </div>
                <div class="text-center">
                    <button id="submit" class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
                        Kirim
                    </button>
                </div>
            </div>
        </div>
        <script type="module">
            import { initializeApp } from "https://www.gstatic.com/firebasejs/11.3.0/firebase-app.js";
            import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.3.0/firebase-analytics.js";
            import { getDatabase, set, ref, push, child, onValue } from "https://www.gstatic.com/firebasejs/11.3.0/firebase-database.js";

            const firebaseConfig = {
                apiKey: "AIzaSyCN8RWH8Qu8kV9YphKyn5Ul9jBRiFq1iz8",
                authDomain: "storytale-9445a.firebaseapp.com",
                databaseURL: "https://storytale-9445a-default-rtdb.firebaseio.com",
                projectId: "storytale-9445a",
                storageBucket: "storytale-9445a.firebasestorage.app",
                messagingSenderId: "810989522601",
                appId: "1:810989522601:web:619a11b5d381980a7b23b8",
                measurementId: "G-XZKG6B4DZL"
            };

            const app = initializeApp(firebaseConfig);
            const analytics = getAnalytics(app);
            const database = getDatabase(app);

            document.getElementById('submit').addEventListener('click', (e) => {
                var text = document.getElementById('text').value;
                var imgtxt = document.getElementById('imagetxt').value;
                var date = document.getElementById("datenow").value;

                const userId = push(child(ref(database), 'users')).key;

                set(ref(database, 'users/' + userId), {
                    text: text,
                    imgtxt: imgtxt,
                    date: date
                });
                    alert("Saved");
            });
        </script>
    </body>
</html>